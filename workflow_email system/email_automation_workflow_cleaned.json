{
  "name": "ğŸ“§ ì´ë©”ì¼ ìë™ ë¶„ë¥˜ ì‹œìŠ¤í…œ (Sender Filter)",
  "nodes": [
    {
      "parameters": {},
      "id": "bc805125-feeb-48db-97a5-f3d0a12d5565",
      "name": "ì°¨ë‹¨ëœ ë°œì‹ ì - ë¬´ì‹œ2",
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -1264,
        96
      ],
      "notes": "ë¸”ë™ë¦¬ìŠ¤íŠ¸ ë°œì‹ ìëŠ” ì²˜ë¦¬í•˜ì§€ ì•Šê³  ì¢…ë£Œ"
    },
    {
      "parameters": {
        "operation": "getAll",
        "limit": 20,
        "simple": false,
        "filters": {},
        "options": {}
      },
      "id": "15070c55-a471-46ef-ae07-a1ee8661b776",
      "name": "2. ì•ˆì½ì€ ì´ë©”ì¼ ê°€ì ¸ì˜¤ê¸°",
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -2640,
        -64
      ],
      "webhookId": "REPLACE_WITH_WEBHOOK_ID",
      "credentials": {}
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// (1) Execute Once ë„ê³ , ì´ ì½”ë“œë§Œ ë‚¨ê²¨ë‘ê¸°\nconst item = $input.item.json;\n\n// OpenAI ì‘ë‹µ í…ìŠ¤íŠ¸ ì¶”ì¶œ\nconst response =\n  item.message?.content ??\n  (item.choices?.[0]?.message?.content ?? '');\n\nif (!response) {\n  return {\n    json: {\n      ...item,                     // í˜¹ì‹œë¼ë„ ë“¤ì–´ì˜¨ í•„ë“œëŠ” ìœ ì§€\n      category: 'ë¶„ë¥˜ ì‹¤íŒ¨',\n      priority: 'ë³´í†µ',\n      summary: 'OpenAI ì‘ë‹µì´ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤.',\n      has_schedule: false,\n      schedule_info: '',\n      action_required: '',\n      days_until: null,\n      processed_at: new Date().toISOString(),\n      error: 'No content from OpenAI',\n    },\n  };\n}\n\ntry {\n  let jsonStr = response;\n  if (jsonStr.includes('```json')) {\n    jsonStr = jsonStr.split('```json')[1].split('```')[0];\n  } else if (jsonStr.includes('```')) {\n    jsonStr = jsonStr.split('```')[1].split('```')[0];\n  }\n\n  const analysis = JSON.parse(jsonStr.trim());\n\n  return {\n    json: {\n      // â‘  ì›ë˜ ë“¤ì–´ì˜¨ ëª¨ë“  í•„ë“œ ë¨¼ì € ìœ ì§€\n      ...item,\n\n      // â‘¡ íŠ¹íˆ emailIdëŠ” í˜¹ì‹œ idë¡œë§Œ ì™€ë„ ì»¤ë²„\n      emailId: item.emailId ?? item.id,\n\n      // â‘¢ ë°œì‹ ì ì •ë³´\n      senderType: item.senderType,\n      isVIP: item.senderType === 'VIP',\n\n      // â‘£ AI ë¶„ì„ ê²°ê³¼\n      category: analysis.category,\n      priority: analysis.priority,\n      summary: analysis.summary,\n      has_schedule: analysis.has_schedule,\n      schedule_info: analysis.schedule_info || '',\n      action_required: analysis.action_required || '',\n      days_until: analysis.days_until ?? null,\n\n      processed_at: new Date().toISOString(),\n    },\n  };\n} catch (error) {\n  return {\n    json: {\n      ...item,\n      emailId: item.emailId ?? item.id ?? null,\n      senderType: item.senderType,\n      isVIP: false,\n      category: 'ë¶„ë¥˜ ì‹¤íŒ¨',\n      priority: 'ë³´í†µ',\n      summary: 'ë¶„ì„ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: ' + error.message,\n      has_schedule: false,\n      schedule_info: '',\n      action_required: '',\n      days_until: null,\n      processed_at: new Date().toISOString(),\n      error: error.message,\n    },\n  };\n}"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2112,
        -64
      ],
      "id": "8d665ad8-8c2f-45d5-9f30-2ff458200180",
      "name": "3. ì´ë©”ì¼ ë°ì´í„° ì¶”ì¶œ"
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// ğŸ†• Sender Filter - ë°œì‹ ì ê²€ì¦ ë¡œì§\n\nconst item = $input.item;\n\n// fromEmail ì´ ì—†ì„ ìˆ˜ë„ ìˆìœ¼ë‹ˆ ë°©ì–´ ì½”ë“œ\nconst rawFromEmail = item.json.fromEmail || item.json.from || '';\nconst fromEmail = rawFromEmail.toString().toLowerCase();\nconst from = item.json.from || '';\n\n\n// VIP ë¦¬ìŠ¤íŠ¸ - ìµœìš°ì„  ì²˜ë¦¬\nconst vipList = [\n  \"boss@company.com\",\n  \"ceo@company.com\",\n  \"important@client.com\"\n];\n\n// í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ - ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë„ë©”ì¸/ì´ë©”ì¼\nconst whitelist = [\n  \"@yourcompany.com\",      // íšŒì‚¬ ë„ë©”ì¸\n  \"@partner.com\",          // íŒŒíŠ¸ë„ˆì‚¬\n  \"@client.com\"            // ê³ ê°ì‚¬\n];\n\n// ë¸”ë™ë¦¬ìŠ¤íŠ¸ - ì°¨ë‹¨í•  ë„ë©”ì¸/ì´ë©”ì¼\nconst blacklist = [\n  \"@spam.com\",\n  \"noreply@marketing\",\n  \"@promotional\",\n  \"@ads.\",\n  \"newsletter@\"\n];\n\n// ë„ë©”ì¸ â†’ ì¹´í…Œê³ ë¦¬ íŒíŠ¸ ë§¤í•‘\nconst domainCategoryMap = {\n  \"@yourcompany.com\": \"ì—…ë¬´\",\n  \"@marketing.com\": \"ê´‘ê³ \",\n  \"calendar.google.com\": \"ë¯¸íŒ…\",\n  \"noreply@system\": \"ê³µì§€\"\n};\n\n// ë§Œì•½ fromEmail ìì²´ê°€ ë¹„ì–´ ìˆìœ¼ë©´ ê·¸ëƒ¥ \"ë³´í†µ ë©”ì¼\" ì²˜ë¦¬\nif (!fromEmail) {\n  return {\n    json: {\n      ...item.json,\n      isValid: true,\n      senderType: \"ì•Œ ìˆ˜ ì—†ìŒ\",\n      priorityBoost: false,\n      categoryHint: null,\n      note: \"fromEmail ì´ ë¹„ì–´ ìˆìŒ\"\n    }\n  };\n}\n\n// ================== ì•„ë˜ëŠ” ê¸°ì¡´ ë¡œì§ ê·¸ëŒ€ë¡œ ==================\n\n// 1. VIP ì²´í¬\nconst isVIP = vipList.some(vip => fromEmail.includes(vip.toLowerCase()));\n\nif (isVIP) {\n  return {\n    json: {\n      ...item.json,\n      isValid: true,\n      senderType: \"VIP\",\n      priorityBoost: true,\n      categoryHint: \"ì—…ë¬´\"\n    }\n  };\n}\n\n// 2. ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì²´í¬\nconst isBlocked = blacklist.some(blocked =>\n  fromEmail.includes(blocked.toLowerCase())\n);\n\nif (isBlocked) {\n  return {\n    json: {\n      ...item.json,\n      isValid: false,\n      senderType: \"ì°¨ë‹¨ë¨\",\n      reason: \"ë¸”ë™ë¦¬ìŠ¤íŠ¸\"\n    }\n  };\n}\n\n// 3. í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì²´í¬\nconst isWhitelisted = whitelist.some(allowed =>\n  fromEmail.includes(allowed.toLowerCase())\n);\n\n// 4. ì¹´í…Œê³ ë¦¬ íŒíŠ¸ ì°¾ê¸°\nlet categoryHint = null;\nfor (const [domain, category] of Object.entries(domainCategoryMap)) {\n  if (fromEmail.includes(domain.toLowerCase())) {\n    categoryHint = category;\n    break;\n  }\n}\n\n// ìµœì¢… ê²°ê³¼\nreturn {\n  json: {\n    ...item.json,\n    isValid: true,  // ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  ì´ë©”ì¼ ì²˜ë¦¬ (ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì œì™¸)\n    senderType: isWhitelisted ? \"í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸\" : \"ì¼ë°˜\",\n    priorityBoost: false,\n    categoryHint: categoryHint\n  }\n};\n"
      },
      "id": "c6f7c7ec-e0af-4a38-90f6-df51793ef7ad",
      "name": "4. Sender Filter",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1744,
        -64
      ],
      "notes": "ë°œì‹ ì ê²€ì¦: VIP, í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸, ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì²´í¬"
    },
    {
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value1": "={{ $json.isValid }}",
              "value2": true
            }
          ]
        },
        "options": {}
      },
      "id": "892e3966-1610-48c7-96c1-8ff13c4a416b",
      "name": "5. ë°œì‹ ì ìœ íš¨ì„± í™•ì¸",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [
        -1552,
        -64
      ]
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-4.1-mini",
          "mode": "list",
          "cachedResultName": "GPT-4.1-MINI"
        },
        "messages": {
          "values": [
            {
              "content": "=ë„ˆëŠ” ì´ë©”ì¼ ë¹„ì„œì•¼. ì•„ë˜ ì´ë©”ì¼ì„ ì½ê³  JSON í•˜ë‚˜ë¥¼ ë§Œë“¤ì–´ì¤˜.\n\n**ì¤‘ìš”: ë°˜ë“œì‹œ ì•„ë˜ í˜•ì‹ì˜ ìˆœìˆ˜ JSONë§Œ ë°˜í™˜í•´.**\n**ì ˆëŒ€ ```json ê°™ì€ ì½”ë“œ ë¸”ë¡ì´ë‚˜ ì„¤ëª… ë¬¸ì¥ì„ ë¶™ì´ì§€ ë§ˆ.**\n\nì˜¤ëŠ˜ ë‚ ì§œ: {{ $json.today }}\n\ní•„ë“œ ì •ì˜:\n\n- category: \"ê³µì§€\" | \"ì—…ë¬´\" | \"ê´‘ê³ \" | \"ìŠ¤íŒ¸\" | \"íŒŒì¼ì „ì†¡\" | \"ìë™ì•Œë¦¼\" ì¤‘ í•˜ë‚˜\n- priority: \"ë†’ìŒ\" | \"ë³´í†µ\" | \"ë‚®ìŒ\" ì¤‘ í•˜ë‚˜\n- summary: í•œêµ­ì–´ë¡œ 1~3ë¬¸ì¥ìœ¼ë¡œ í•µì‹¬ ë‚´ìš© ìš”ì•½ (ë°˜ë“œì‹œ ì‹¤ì œ ë‚´ìš© ê¸°ë°˜)\n- has_schedule: ë‚ ì§œì™€ ì‹œê°„(ë˜ëŠ” ìµœì†Œí•œ ë‚ ì§œ)ì´ ëª…í™•íˆ ìˆ«ìë¡œ í‘œí˜„ëœ ê²½ìš°ì—ë§Œ true\n- schedule_info: ì‚¬ëŒì´ ì½ê¸° ì¢‹ì€ í•œêµ­ì–´ ì¼ì • ì„¤ëª… (ì¼ì • ìˆì„ ë•Œë§Œ)\n- schedule_start: ISO8601 í˜•ì‹ ì‹œì‘ ì‹œê° (í•œêµ­ ì‹œê°„ KST, UTC+9)\n- schedule_end: ISO8601 í˜•ì‹ ì¢…ë£Œ ì‹œê° (ì—†ìœ¼ë©´ null)\n- action_required: ìˆ˜ì‹ ìê°€ í•´ì•¼ í•  í–‰ë™ (ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´)\n- days_until: ì˜¤ëŠ˜ ê¸°ì¤€ìœ¼ë¡œ ì¼ì •ê¹Œì§€ ë‚¨ì€ ë‚ ì§œ ìˆ˜ (ì¼ì • ì—†ìœ¼ë©´ null)\n\n---\n\n**Category ë¶„ë¥˜ ê·œì¹™**\n\n1. **ìë™ì•Œë¦¼**:\n   - ë°œì‹ ì: \"notify@\", \"noreply@\", \"no-reply@\", \"automation@\"\n   - ë‚´ìš©: ì‹œìŠ¤í…œ ìë™ ë°œì†¡\n\n2. **ê´‘ê³ **:\n   - ë°œì‹ ì: \"marketing@\", \"promo@\", \"newsletter@\", \"master@\"\n   - ë‚´ìš©: \"í• ì¸\", \"í”„ë¡œëª¨ì…˜\", \"ì„¸ì¼\", \"íŠ¹ê°€\", \"ì´ë²¤íŠ¸\"\n\n3. **ìŠ¤íŒ¸**:\n   - ë‚´ìš©ì´ ê±°ì˜ ì—†ê±°ë‚˜ ì˜ë¯¸ ì—†ëŠ” í…ìŠ¤íŠ¸\n\n4. **íŒŒì¼ì „ì†¡**:\n   - ì²¨ë¶€íŒŒì¼ì´ ìˆê³  ë³¸ë¬¸ì´ ê°„ë‹¨\n\n5. **ê³µì§€**:\n   - íšŒì‚¬/ë‹¨ì²´ì˜ ê³µì‹ ê³µì§€ì‚¬í•­\n   - \"ê³µì§€\", \"ì•ˆë‚´\", \"ì•Œë¦¼\"\n\n6. **ì—…ë¬´**:\n   - ìœ„ ì¹´í…Œê³ ë¦¬ì— í•´ë‹¹í•˜ì§€ ì•ŠëŠ” ì¼ë°˜ ì—…ë¬´ ë©”ì¼\n\n**íŒë‹¨ ìš°ì„ ìˆœìœ„**: ìë™ì•Œë¦¼ > ìŠ¤íŒ¸ > ê´‘ê³  > íŒŒì¼ì „ì†¡ > ê³µì§€ > ì—…ë¬´\n\n---\n\n**ë‚ ì§œ/ì‹œê°„ ì¸ì‹ ê·œì¹™ (ë§¤ìš° ì¤‘ìš”!)**\n\n### 1. ë‹¨ì¼ ë‚ ì§œ/ì‹œê°„\n```\nì˜ˆì‹œ: \"12ì›” 8ì¼ ì˜¤í›„ 2ì‹œ\"\nâ†’ schedule_start: \"2025-12-08T14:00:00+09:00\"\nâ†’ schedule_end: null\n```\n\n### 2. ê¸°ê°„ (ì‹œì‘~ì¢…ë£Œ) â­â­â­\n```\nì˜ˆì‹œ 1: \"11ì›” 18ì¼ ~ 11ì›” 24ì¼\"\nâ†’ schedule_start: \"2025-11-18T09:00:00+09:00\" (ì‹œì‘ì¼ 09:00)\nâ†’ schedule_end: \"2025-11-24T23:59:59+09:00\" (ì¢…ë£Œì¼ 23:59)\n\nì˜ˆì‹œ 2: \"11ì›” 18ì¼ë¶€í„° 24ì¼ê¹Œì§€\"\nâ†’ schedule_start: \"2025-11-18T09:00:00+09:00\"\nâ†’ schedule_end: \"2025-11-24T23:59:59+09:00\"\n\nì˜ˆì‹œ 3: \"9ì›” 21ì¼ 17:00ë¶€í„° ë©´ì ‘ ì¢…ì‹œ ê¸°ê°„\"\nâ†’ schedule_start: \"2025-09-21T17:00:00+09:00\"\nâ†’ schedule_end: null (ì¢…ë£Œ ì‹œê° ë¶ˆëª…í™•)\n```\n\n### 3. íŠ¹ì • ì‹œê°„ëŒ€\n```\nì˜ˆì‹œ: \"11ì›” 23ì¼ 9:00-10:00\"\nâ†’ schedule_start: \"2025-11-23T09:00:00+09:00\"\nâ†’ schedule_end: \"2025-11-23T10:00:00+09:00\"\n```\n\n### 4. ë§ˆê°ì¼\n```\nì˜ˆì‹œ: \"11ì›” 30ì¼ê¹Œì§€ ì œì¶œ\"\nâ†’ schedule_start: \"2025-11-30T23:59:59+09:00\" (ë§ˆê° ì‹œê°)\nâ†’ schedule_end: null\n```\n\n### 5. ì—°ë„ ì¶”ë¡  ê·œì¹™\n- ì˜¤ëŠ˜ì´ 2025ë…„ 11ì›” 19ì¼ì¸ ê²½ìš°:\n  * \"1ì›” 1ì¼\" â†’ 2026-01-01 (ë¯¸ë˜ ë‚ ì§œ)\n  * \"12ì›” 8ì¼\" â†’ 2025-12-08 (ì˜¬í•´)\n  * \"11ì›” 18ì¼\" â†’ 2025-11-18 (ì˜¬í•´)\n\n### 6. ì‹œê°„ ê¸°ë³¸ê°’\n- ì‹œê°„ ëª…ì‹œ ì—†ìœ¼ë©´: 09:00 (ì˜¤ì „ 9ì‹œ)\n- ë§ˆê°ì¼/ì¢…ë£Œì¼: 23:59:59\n- \"ì˜¤í›„ 2ì‹œ\" = 14:00\n- \"ì˜¤ì „ 9ì‹œ\" = 09:00\n\n### 7. ì¸ì‹ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°\n```\nâŒ \"ë‹¤ìŒ ì£¼\", \"ì¡°ë§Œê°„\", \"ì¶”í›„\"\nâŒ \"30ì¼ ì´ë‚´\", \"15ì¼ ì´ë‚´\"\nâ†’ has_schedule: false\nâ†’ schedule_start: null\n```\n\n---\n\n**íŒŒì¼ ì²¨ë¶€ ì´ë©”ì¼ ì²˜ë¦¬**\n\nì²¨ë¶€íŒŒì¼ ì •ë³´: {{ $json.hasAttachments ? 'ìˆìŒ (' + $json.attachmentCount + 'ê°œ)' : 'ì—†ìŒ' }}\nì²¨ë¶€íŒŒì¼ ëª©ë¡: {{ $json.attachmentNames }}\n\n**ê·œì¹™**:\n- ì²¨ë¶€íŒŒì¼ ìˆê³  ë³¸ë¬¸ì´ ê°„ë‹¨í•˜ë©´ category = \"íŒŒì¼ì „ì†¡\"\n- ì¤‘ìš” íŒŒì¼(.xlsx, .pdf, .doc)ì´ë©´ priority = \"ë†’ìŒ\"\n- summaryì— íŒŒì¼ ì •ë³´ í¬í•¨\n\n---\n\n**Priority ê·œì¹™**\n\n1. **ë†’ìŒ**:\n   - \"ê¸´ê¸‰\", \"urgent\", \"ASAP\", \"ê¸‰í•¨\"\n   - ì¼ì •ì´ 3ì¼ ì´ë‚´\n   - ì¤‘ìš” íŒŒì¼ ì²¨ë¶€\n   - \"íšŒì‹  ë°”ëë‹ˆë‹¤\", \"í™•ì¸ ë¶€íƒ\"\n\n2. **ë³´í†µ**:\n   - ì¼ë°˜ ì—…ë¬´ ë©”ì¼\n   - ì¼ì •ì´ 3~14ì¼\n\n3. **ë‚®ìŒ**:\n   - ìë™ì•Œë¦¼\n   - ê´‘ê³ \n   - ì¼ì • ì—†ìŒ\n\n---\n\n**JSON ì˜ˆì‹œ**\n\n**ì˜ˆì‹œ 1 - ë‹¨ì¼ ì¼ì •**:\n```json\n{\n  \"category\": \"ê³µì§€\",\n  \"priority\": \"ë†’ìŒ\",\n  \"summary\": \"ìƒˆí•´ ì²« ë§Œë‚¨ ì´ˆëŒ€, 1ì›” 1ì¼ ì˜¤ì „ 11ì‹œ\",\n  \"has_schedule\": true,\n  \"schedule_info\": \"2026ë…„ 1ì›” 1ì¼ ì˜¤ì „ 11ì‹œ ëª…ì„±êµíšŒ\",\n  \"schedule_start\": \"2026-01-01T11:00:00+09:00\",\n  \"schedule_end\": null,\n  \"action_required\": \"ì°¸ì„ ì—¬ë¶€ íšŒì‹ \",\n  \"days_until\": 43\n}\n```\n\n**ì˜ˆì‹œ 2 - ê¸°ê°„ ì¼ì •** â­:\n```json\n{\n  \"category\": \"ì—…ë¬´\",\n  \"priority\": \"ë³´í†µ\",\n  \"summary\": \"11ì›” 18ì¼ë¶€í„° 24ì¼ê¹Œì§€ ì—…ë°ì´íŠ¸ ì¼ì •\",\n  \"has_schedule\": true,\n  \"schedule_info\": \"11ì›” 18ì¼ ~ 11ì›” 24ì¼\",\n  \"schedule_start\": \"2025-11-18T09:00:00+09:00\",\n  \"schedule_end\": \"2025-11-24T23:59:59+09:00\",\n  \"action_required\": \"ì¼ì • í™•ì¸\",\n  \"days_until\": -1\n}\n```\n\n**ì˜ˆì‹œ 3 - ë§ˆê°ì¼**:\n```json\n{\n  \"category\": \"ì—…ë¬´\",\n  \"priority\": \"ë†’ìŒ\",\n  \"summary\": \"ì…ì°° ì„œë¥˜ ì œì¶œ, 11ì›” 30ì¼ê¹Œì§€\",\n  \"has_schedule\": true,\n  \"schedule_info\": \"11ì›” 30ì¼ê¹Œì§€ ì œì¶œ\",\n  \"schedule_start\": \"2025-11-30T23:59:59+09:00\",\n  \"schedule_end\": null,\n  \"action_required\": \"ê¸°í•œ ë‚´ ì œì¶œ ì™„ë£Œ\",\n  \"days_until\": 11\n}\n```\n\n**ì˜ˆì‹œ 4 - ê´‘ê³  (ì¼ì • ì—†ìŒ)**:\n```json\n{\n  \"category\": \"ê´‘ê³ \",\n  \"priority\": \"ë‚®ìŒ\",\n  \"summary\": \"ëŒ€ì‹ ì¦ê¶Œ íˆ¬ìì •ë³´ ë° ì¶”ì²œì¢…ëª© ì•ˆë‚´\",\n  \"has_schedule\": false,\n  \"schedule_info\": \"\",\n  \"schedule_start\": null,\n  \"schedule_end\": null,\n  \"action_required\": \"\",\n  \"days_until\": null\n}\n```\n\n---\n\n**ì¤‘ìš” ì£¼ì˜ì‚¬í•­**\n\n1. **ê¸°ê°„ í˜•ì‹ ë°˜ë“œì‹œ ì¸ì‹**:\n   - \"Aë¶€í„° Bê¹Œì§€\", \"A ~ B\", \"A - B\"\n   - schedule_start: Aì˜ ì‹œì‘ ì‹œê°\n   - schedule_end: Bì˜ ì¢…ë£Œ ì‹œê°\n\n2. **ISO8601 í˜•ì‹ ì—„ìˆ˜**:\n   - í˜•ì‹: `YYYY-MM-DDTHH:mm:ss+09:00`\n   - ì˜ˆ: `2025-12-08T14:00:00+09:00`\n   - ë°˜ë“œì‹œ `+09:00` í¬í•¨ (í•œêµ­ ì‹œê°„ëŒ€)\n\n3. **null vs ë¹ˆ ë¬¸ìì—´**:\n   - schedule_start/end: null (ISO8601 ì•„ë‹ˆë©´ null)\n   - schedule_info: \"\" (ì¼ì • ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´)\n   - action_required: \"\" (ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´)\n\n4. **has_schedule íŒë‹¨**:\n   - schedule_startê°€ nullì´ ì•„ë‹ˆë©´ â†’ true\n   - schedule_startê°€ nullì´ë©´ â†’ false\n\n5. **ë°œì‹ ì ì£¼ì†Œë¡œ category 1ì°¨ íŒë‹¨**:\n   - master@, marketing@ â†’ ê´‘ê³ \n   - notify@, noreply@ â†’ ìë™ì•Œë¦¼\n\n6. **summaryëŠ” í•­ìƒ ì‹¤ì œ ë‚´ìš© ê¸°ë°˜**:\n   - âŒ \"ì´ë©”ì¼ ë³¸ë¬¸ì— ë‚´ìš©ì´ ì—†ì–´...\"\n   - âœ… ì œëª©ì´ë‚˜ ë°œì‹ ì ê¸°ë°˜ ìš”ì•½",
              "role": "system"
            },
            {
              "content": "=ì˜¤ëŠ˜ ë‚ ì§œ: {{ $json.today }}\n\nì œëª©: {{ $json.subject }}\në°œì‹ ì: {{ $json.from }}\në°œì‹ ì íƒ€ì…: {{ $json.senderType }}\në‚ ì§œ: {{ $json.date }}\nì²¨ë¶€íŒŒì¼: {{ $json.hasAttachments ? 'ìˆìŒ (' + $json.attachmentCount + 'ê°œ)' : 'ì—†ìŒ' }}\nì²¨ë¶€íŒŒì¼ ëª©ë¡: {{ $json.attachmentNames }}\n\në‚´ìš©:\nì•„ë˜ëŠ” ì´ë©”ì¼ì˜ ì‹¤ì œ ë³¸ë¬¸ì´ë‹¤:\n{{ $json.cleanBody }}"
            }
          ]
        },
        "simplify": false,
        "options": {
          "temperature": 0.3
        }
      },
      "id": "081f6436-420f-4b9d-a3d9-ab0f9c4766c8",
      "name": "6. OpenAIë¡œ ì´ë©”ì¼ ë¶„ì„",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.5,
      "position": [
        -1024,
        -64
      ],
      "credentials": {}
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// 7. JSON íŒŒì‹± ë° í†µí•©\n\n// ğŸ‘‰ ì—¬ê¸° ì´ë¦„ì„ ë„¤ Sender Filter ë…¸ë“œ ì´ë¦„ì´ë‘ ë˜‘ê°™ì´ ë§ì¶°ì¤˜\nconst email = $node[\"4. Sender Filter\"].json;\n\n// OpenAI ì‘ë‹µì—ì„œ content ê°€ì ¸ì˜¤ê¸°\nconst response =\n  $json.message?.content ??\n  ($json.choices?.[0]?.message?.content ?? '');\n\nif (!response) {\n  return {\n    json: {\n      ...email,\n      category: 'ë¶„ë¥˜ ì‹¤íŒ¨',\n      priority: 'ë³´í†µ',\n      summary: 'OpenAI ì‘ë‹µì´ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤.',\n      has_schedule: false,\n      schedule_info: '',\n      schedule_start: null,\n      schedule_end: null,\n      action_required: '',\n      days_until: null,\n      processed_at: new Date().toISOString(),\n      error: 'No content from OpenAI',\n    },\n  };\n}\n\nfunction formatSender(email) {\n  const fe = email.fromEmail ?? email.from;\n  if (!fe) return '';\n\n  // ë¬¸ìì—´ì´ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš©\n  if (typeof fe === 'string') return fe;\n\n  // Gmail í˜•ì‹: { value: [{ address, name }], text, ... }\n  if (Array.isArray(fe.value) && fe.value[0]) {\n    const v = fe.value[0];\n    if (v.name && v.address) return `${v.name} <${v.address}>`;\n    return v.address || v.name || '';\n  }\n\n  if (fe.text) return fe.text;\n  if (fe.address) return fe.address;\n\n  return String(fe);\n}\n\nfunction formatDate(value) {\n  const d = new Date(value);\n  if (isNaN(d)) return value;\n  const pad = (n) => String(n).padStart(2, '0');\n  const yyyy = d.getFullYear();\n  const mm = pad(d.getMonth() + 1);\n  const dd = pad(d.getDate());\n  const hh = pad(d.getHours());\n  const mi = pad(d.getMinutes());\n  return `${yyyy}-${mm}-${dd} ${hh}:${mi}`;\n}\n\ntry {\n  const analysis = JSON.parse(response.trim());\n\n  return {\n    json: {\n      // ì›ë³¸ ì´ë©”ì¼ ì •ë³´\n      ...email,\n\n      // ì‹œíŠ¸ìš© ê¸°ë³¸ í•„ë“œ\n      emailId: email.emailId ?? email.id,\n      date: formatDate(email.date),\n      sender: formatSender(email),\n      subject: email.subject,\n\n      // ë°œì‹ ì ì •ë³´\n      senderType: email.senderType,\n      isVIP: email.senderType === 'VIP',\n\n      // OpenAI ë¶„ì„ ê²°ê³¼\n      category: analysis.category,\n      priority: analysis.priority,\n      summary: analysis.summary,\n      has_schedule: analysis.has_schedule,\n      schedule_info: analysis.schedule_info || '',\n      schedule_start: analysis.schedule_start || null,\n      schedule_end: analysis.schedule_end || null,\n      action_required: analysis.action_required || '',\n      days_until: analysis.days_until ?? null,\n\n      processed_at: new Date().toISOString(),\n    },\n  };\n} catch (error) {\n  return {\n    json: {\n      ...email,\n      emailId: email.emailId ?? email.id ?? null,\n      date: formatDate(email.date),\n      sender: formatSender(email),\n      subject: email.subject,\n      senderType: email.senderType,\n      isVIP: false,\n      category: 'ë¶„ë¥˜ ì‹¤íŒ¨',\n      priority: 'ë³´í†µ',\n      summary: 'ë¶„ì„ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: ' + error.message,\n      has_schedule: false,\n      schedule_info: '',\n      schedule_start: null,\n      schedule_end: null,\n      action_required: '',\n      days_until: null,\n      processed_at: new Date().toISOString(),\n      error: error.message,\n    },\n  };\n}\n"
      },
      "id": "f9e6aaa7-22df-4e26-9eff-e03c28b20f6a",
      "name": "7. JSON íŒŒì‹± ë° í†µí•©",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -688,
        -64
      ]
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "YOUR_GOOGLE_SHEET_ID",
          "mode": "list",
          "cachedResultName": "ì´ë©”ì¼ ìë™í™” (ìƒ˜í”Œ)",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/YOUR_GOOGLE_SHEET_ID/edit"
        },
        "sheetName": {
          "__rl": true,
          "value": "email-log",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "date": "={{ $json.date }}",
            "sender": "={{ $json.from }}",
            "subject": "={{ $json.subject }}",
            "category": "={{ $json.category }}",
            "priority": "={{ $json.priority }}",
            "summary": "={{ $json.summary }}",
            "has_schedule": "={{ $json.has_schedule }}",
            "schedule_info": "={{ $json.schedule_info }}",
            "sender_type": "={{ $json.senderType }}",
            "action_required": "={{ $json.action_required }}",
            "days_until": "={{ $json.days_until }}",
            "processed_at": "={{ $json.processed_at }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "date",
              "displayName": "date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "sender",
              "displayName": "sender",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "subject",
              "displayName": "subject",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "category",
              "displayName": "category",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "priority",
              "displayName": "priority",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "summary",
              "displayName": "summary",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "has_schedule",
              "displayName": "has_schedule",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "schedule_info",
              "displayName": "schedule_info",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "sender_type",
              "displayName": "sender_type",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "action_required",
              "displayName": "action_required",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "days_until",
              "displayName": "days_until",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "processed_at",
              "displayName": "processed_at",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "id": "d191e6cf-b962-40a0-8b85-176009a9355d",
      "name": "8. Google Sheetsì— ê¸°ë¡",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        -240,
        -80
      ],
      "credentials": {}
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "your-email@example.com",
          "mode": "list",
          "cachedResultName": "your-email@example.com"
        },
        "start": "={{ $json.schedule_start }}",
        "end": "={{ $json.schedule_end || $json.schedule_start }}",
        "additionalFields": {
          "description": "=ë°œì‹ ì: {{ $json.from }}\nì¹´í…Œê³ ë¦¬: {{ $json.category }}\nìš°ì„ ìˆœìœ„: {{ $json.priority }}\n\n{{ $json.summary }}\n\ní•„ìš” ì•¡ì…˜: {{ $json.action_required }}",
          "summary": "=[ì´ë©”ì¼] {{ $json.subject }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendar",
      "typeVersion": 1.3,
      "position": [
        912,
        -96
      ],
      "id": "a7087fc9-eb27-46aa-a25e-0683f3ca2210",
      "name": "8.6 Google Calendar ë“±ë¡",
      "credentials": {}
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours"
            }
          ]
        }
      },
      "id": "9f4e649b-b47a-4842-a894-21978bfc3a67",
      "name": "1. ë§¤ 1ì‹œê°„ë§ˆë‹¤ ì‹¤í–‰",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        -2944,
        -64
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "978fd25f-de09-4101-b5bb-27ce8173cf5a",
              "leftValue": "={{ $json.has_schedule }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        592,
        -80
      ],
      "id": "8f35f9cb-666b-4cff-af68-c08146f64a17",
      "name": "8.56 ìº˜ë¦°ë” ë“±ë¡ ì—¬ë¶€ í™•ì¸"
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// ===== schedule_start ê°•ì œ ìƒì„± ë…¸ë“œ =====\n// schedule_infoì—ì„œ ë‚ ì§œë¥¼ ì¶”ì¶œí•˜ì—¬ schedule_start ìƒì„±\n\nconst item = $input.item.json;\n\nconsole.log(\"===== schedule_start ìƒì„± ì‹œì‘ =====\");\nconsole.log(\"has_schedule:\", item.has_schedule);\nconsole.log(\"schedule_info:\", item.schedule_info);\nconsole.log(\"ê¸°ì¡´ schedule_start:\", item.schedule_start);\n\n// ì´ë¯¸ schedule_startê°€ ìˆìœ¼ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš©\nif (item.schedule_start && item.schedule_start !== null && item.schedule_start !== \"null\") {\n  console.log(\"âœ“ ê¸°ì¡´ schedule_start ì‚¬ìš©:\", item.schedule_start);\n  return { json: item };\n}\n\n// schedule_infoê°€ ì—†ìœ¼ë©´ ìŠ¤í‚µ\nif (!item.schedule_info || item.schedule_info === \"\") {\n  console.log(\"âœ— schedule_info ì—†ìŒ, ìŠ¤í‚±\");\n  return { json: item };\n}\n\nconst scheduleInfo = item.schedule_info;\nconst now = new Date();\nconst currentYear = now.getFullYear();\nconst currentMonth = now.getMonth() + 1;\n\nlet startDate = null;\nlet endDate = null;\n\n// ===== íŒ¨í„´ 1: \"2026ë…„ 1ì›” 1ì¼ ì˜¤ì „ 11ì‹œ\" =====\nconst pattern1 = /(\\d{4})ë…„\\s*(\\d{1,2})ì›”\\s*(\\d{1,2})ì¼(?:\\s*(ì˜¤ì „|ì˜¤í›„)\\s*(\\d{1,2})ì‹œ)?/;\nconst match1 = scheduleInfo.match(pattern1);\nif (match1) {\n  const year = parseInt(match1[1]);\n  const month = parseInt(match1[2]);\n  const day = parseInt(match1[3]);\n  const ampm = match1[4]; // \"ì˜¤ì „\" ë˜ëŠ” \"ì˜¤í›„\"\n  let hour = match1[5] ? parseInt(match1[5]) : 9; // ê¸°ë³¸ 9ì‹œ\n  \n  // ì˜¤í›„ì´ê³  12ì‹œê°€ ì•„ë‹ˆë©´ +12\n  if (ampm === \"ì˜¤í›„\" && hour !== 12) {\n    hour += 12;\n  } else if (ampm === \"ì˜¤ì „\" && hour === 12) {\n    hour = 0;\n  }\n  \n  startDate = new Date(year, month - 1, day, hour, 0, 0);\n  console.log(\"âœ“ íŒ¨í„´ 1 ë§¤ì¹­:\", startDate);\n}\n\n// ===== íŒ¨í„´ 2: \"11ì›” 18ì¼\" (ì—°ë„ ì—†ìŒ) =====\nif (!startDate) {\n  const pattern2 = /(\\d{1,2})ì›”\\s*(\\d{1,2})ì¼(?:\\s*(ì˜¤ì „|ì˜¤í›„)\\s*(\\d{1,2})ì‹œ)?/;\n  const match2 = scheduleInfo.match(pattern2);\n  if (match2) {\n    const month = parseInt(match2[1]);\n    const day = parseInt(match2[2]);\n    const ampm = match2[3];\n    let hour = match2[4] ? parseInt(match2[4]) : 9;\n    \n    if (ampm === \"ì˜¤í›„\" && hour !== 12) {\n      hour += 12;\n    } else if (ampm === \"ì˜¤ì „\" && hour === 12) {\n      hour = 0;\n    }\n    \n    // ì—°ë„ ì¶”ë¡ : ê³¼ê±° ë‚ ì§œë©´ ë‚´ë…„\n    let year = currentYear;\n    const testDate = new Date(year, month - 1, day);\n    if (testDate < now && currentMonth > month) {\n      year = currentYear + 1;\n    }\n    \n    startDate = new Date(year, month - 1, day, hour, 0, 0);\n    console.log(\"âœ“ íŒ¨í„´ 2 ë§¤ì¹­:\", startDate);\n  }\n}\n\n// ===== íŒ¨í„´ 3: \"11ì›” 18ì¼ ~ 11ì›” 24ì¼\" (ê¸°ê°„) =====\nif (!startDate) {\n  const pattern3 = /(\\d{1,2})ì›”\\s*(\\d{1,2})ì¼\\s*[~\\-ë¶€í„°]\\s*(\\d{1,2})ì›”?\\s*(\\d{1,2})ì¼/;\n  const match3 = scheduleInfo.match(pattern3);\n  if (match3) {\n    const startMonth = parseInt(match3[1]);\n    const startDay = parseInt(match3[2]);\n    const endMonth = match3[3] ? parseInt(match3[3]) : startMonth;\n    const endDay = parseInt(match3[4]);\n    \n    let year = currentYear;\n    const testDate = new Date(year, startMonth - 1, startDay);\n    if (testDate < now && currentMonth > startMonth) {\n      year = currentYear + 1;\n    }\n    \n    startDate = new Date(year, startMonth - 1, startDay, 9, 0, 0);\n    endDate = new Date(year, endMonth - 1, endDay, 23, 59, 59);\n    console.log(\"âœ“ íŒ¨í„´ 3 ë§¤ì¹­ (ê¸°ê°„):\", startDate, \"~\", endDate);\n  }\n}\n\n// ===== íŒ¨í„´ 4: \"2025ë…„ 11ì›” 18ì¼ë¶€í„° 24ì¼ê¹Œì§€\" =====\nif (!startDate) {\n  const pattern4 = /(\\d{4})ë…„\\s*(\\d{1,2})ì›”\\s*(\\d{1,2})ì¼ë¶€í„°\\s*(\\d{1,2})ì¼ê¹Œì§€/;\n  const match4 = scheduleInfo.match(pattern4);\n  if (match4) {\n    const year = parseInt(match4[1]);\n    const month = parseInt(match4[2]);\n    const startDay = parseInt(match4[3]);\n    const endDay = parseInt(match4[4]);\n    \n    startDate = new Date(year, month - 1, startDay, 9, 0, 0);\n    endDate = new Date(year, month - 1, endDay, 23, 59, 59);\n    console.log(\"âœ“ íŒ¨í„´ 4 ë§¤ì¹­ (ê¸°ê°„):\", startDate, \"~\", endDate);\n  }\n}\n\n// ===== íŒ¨í„´ 5: \"12ì›” 8ì¼ ì›”ìš”ì¼ ì˜¤í›„ 2ì‹œ\" =====\nif (!startDate) {\n  const pattern5 = /(\\d{1,2})ì›”\\s*(\\d{1,2})ì¼\\s*\\w*\\s*(ì˜¤ì „|ì˜¤í›„)\\s*(\\d{1,2})ì‹œ/;\n  const match5 = scheduleInfo.match(pattern5);\n  if (match5) {\n    const month = parseInt(match5[1]);\n    const day = parseInt(match5[2]);\n    const ampm = match5[3];\n    let hour = parseInt(match5[4]);\n    \n    if (ampm === \"ì˜¤í›„\" && hour !== 12) {\n      hour += 12;\n    } else if (ampm === \"ì˜¤ì „\" && hour === 12) {\n      hour = 0;\n    }\n    \n    let year = currentYear;\n    const testDate = new Date(year, month - 1, day);\n    if (testDate < now && currentMonth > month) {\n      year = currentYear + 1;\n    }\n    \n    startDate = new Date(year, month - 1, day, hour, 0, 0);\n    console.log(\"âœ“ íŒ¨í„´ 5 ë§¤ì¹­:\", startDate);\n  }\n}\n\n// ===== ISO8601 í˜•ì‹ ë³€í™˜ (í•œêµ­ ì‹œê°„ëŒ€ KST) =====\nlet schedule_start_iso = null;\nlet schedule_end_iso = null;\n\nif (startDate && !isNaN(startDate.getTime())) {\n  const year = startDate.getFullYear();\n  const month = String(startDate.getMonth() + 1).padStart(2, '0');\n  const day = String(startDate.getDate()).padStart(2, '0');\n  const hour = String(startDate.getHours()).padStart(2, '0');\n  const minute = String(startDate.getMinutes()).padStart(2, '0');\n  const second = String(startDate.getSeconds()).padStart(2, '0');\n  \n  schedule_start_iso = `${year}-${month}-${day}T${hour}:${minute}:${second}+09:00`;\n  \n  console.log(\"âœ“ schedule_start ìƒì„± ì™„ë£Œ:\", schedule_start_iso);\n}\n\nif (endDate && !isNaN(endDate.getTime())) {\n  const year = endDate.getFullYear();\n  const month = String(endDate.getMonth() + 1).padStart(2, '0');\n  const day = String(endDate.getDate()).padStart(2, '0');\n  const hour = String(endDate.getHours()).padStart(2, '0');\n  const minute = String(endDate.getMinutes()).padStart(2, '0');\n  const second = String(endDate.getSeconds()).padStart(2, '0');\n  \n  schedule_end_iso = `${year}-${month}-${day}T${hour}:${minute}:${second}+09:00`;\n  \n  console.log(\"âœ“ schedule_end ìƒì„± ì™„ë£Œ:\", schedule_end_iso);\n}\n\nconsole.log(\"============================\");\n\n// ===== ìµœì¢… ë°˜í™˜ =====\nreturn {\n  json: {\n    ...item,\n    schedule_start: schedule_start_iso || item.schedule_start,\n    schedule_end: schedule_end_iso || item.schedule_end\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        -80
      ],
      "id": "ce895490-6891-461f-b9ff-837500a5880b",
      "name": "8.55 ì •í™•í•œ ë‚ ì§œ ë°±ì—…"
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// ===== ì´ë©”ì¼ ì „ì²˜ë¦¬ ë…¸ë“œ (Gmail API ì‘ë‹µ êµ¬ì¡° ìµœì í™”) =====\n\nconst item = $input.item.json;\n\nconsole.log(\"===== ìˆ˜ì •ì¤‘ ë…¸ë“œ ë””ë²„ê·¸ (v2) =====\");\nconsole.log(\"ì „ì²´ item keys:\", Object.keys(item));\nconsole.log(\"html ì¡´ì¬:\", !!item.html);\nconsole.log(\"text ì¡´ì¬:\", !!item.text);\nconsole.log(\"textPlain ì¡´ì¬:\", !!item.textPlain);\nconsole.log(\"payload ì¡´ì¬:\", !!item.payload);\n\n// ===== 1. ë³¸ë¬¸ ì¶”ì¶œ (6ê°€ì§€ ì†ŒìŠ¤) =====\nlet bodyText = \"\";\n\n// ì†ŒìŠ¤ 1: Gmail APIì˜ text í•„ë“œ (ê°€ì¥ ìš°ì„ )\nif (item.text && item.text.trim().length > 0) {\n  bodyText = item.text.trim();\n  console.log(\"âœ“ Source 1: item.text (\" + bodyText.length + \" chars)\");\n}\n\n// ì†ŒìŠ¤ 2: textPlain í•„ë“œ\nif (!bodyText && item.textPlain && item.textPlain.trim().length > 0) {\n  bodyText = item.textPlain.trim();\n  console.log(\"âœ“ Source 2: item.textPlain (\" + bodyText.length + \" chars)\");\n}\n\n// ì†ŒìŠ¤ 3: html í•„ë“œ (HTML íƒœê·¸ ì œê±°)\nif (!bodyText && item.html && item.html.trim().length > 0) {\n  // ê°„ë‹¨í•œ HTML íƒœê·¸ ì œê±°\n  bodyText = item.html\n    .replace(/<style[^>]*>[\\s\\S]*?<\\/style>/gi, '')\n    .replace(/<script[^>]*>[\\s\\S]*?<\\/script>/gi, '')\n    .replace(/<[^>]+>/g, ' ')\n    .replace(/&nbsp;/g, ' ')\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n    .replace(/&amp;/g, '&')\n    .replace(/\\s+/g, ' ')\n    .trim();\n  console.log(\"âœ“ Source 3: item.html (HTML íƒœê·¸ ì œê±°, \" + bodyText.length + \" chars)\");\n}\n\n// ì†ŒìŠ¤ 4: payload.parts (Gmail API Full format)\nif (!bodyText && item.payload && item.payload.parts) {\n  for (const part of item.payload.parts) {\n    if (part.mimeType === \"text/plain\" && part.body && part.body.data) {\n      try {\n        bodyText = Buffer.from(part.body.data, 'base64').toString('utf-8').trim();\n        console.log(\"âœ“ Source 4: payload.parts text/plain (\" + bodyText.length + \" chars)\");\n        break;\n      } catch (e) {\n        console.log(\"âœ— Source 4 decode error:\", e.message);\n      }\n    }\n  }\n}\n\n// ì†ŒìŠ¤ 5: payload.parts (text/html)\nif (!bodyText && item.payload && item.payload.parts) {\n  for (const part of item.payload.parts) {\n    if (part.mimeType === \"text/html\" && part.body && part.body.data) {\n      try {\n        const htmlContent = Buffer.from(part.body.data, 'base64').toString('utf-8');\n        bodyText = htmlContent\n          .replace(/<style[^>]*>[\\s\\S]*?<\\/style>/gi, '')\n          .replace(/<script[^>]*>[\\s\\S]*?<\\/script>/gi, '')\n          .replace(/<[^>]+>/g, ' ')\n          .replace(/&nbsp;/g, ' ')\n          .replace(/&lt;/g, '<')\n          .replace(/&gt;/g, '>')\n          .replace(/&amp;/g, '&')\n          .replace(/\\s+/g, ' ')\n          .trim();\n        console.log(\"âœ“ Source 5: payload.parts text/html (HTML ì œê±°, \" + bodyText.length + \" chars)\");\n        break;\n      } catch (e) {\n        console.log(\"âœ— Source 5 decode error:\", e.message);\n      }\n    }\n  }\n}\n\n// ì†ŒìŠ¤ 6: payload.body.data (ì§ì ‘ ë³¸ë¬¸)\nif (!bodyText && item.payload && item.payload.body && item.payload.body.data) {\n  try {\n    bodyText = Buffer.from(item.payload.body.data, 'base64').toString('utf-8').trim();\n    console.log(\"âœ“ Source 6: payload.body.data (\" + bodyText.length + \" chars)\");\n  } catch (e) {\n    console.log(\"âœ— Source 6 decode error:\", e.message);\n  }\n}\n\n// ìµœì¢… ì •ë¦¬\nlet cleanText = bodyText.substring(0, 3000); // OpenAI í† í° ì ˆì•½\nconsole.log(\"ìµœì¢… cleanBody length:\", cleanText.length);\nconsole.log(\"cleanText preview:\", cleanText.substring(0, 100));\n\n// ===== 2. ì˜¤ëŠ˜ ë‚ ì§œ ìƒì„± =====\nconst now = new Date();\nconst days = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];\nconst year = now.getFullYear();\nconst month = now.getMonth() + 1;\nconst date = now.getDate();\nconst day = days[now.getDay()];\nconst today = `${year}ë…„ ${month}ì›” ${date}ì¼ (${day}ìš”ì¼)`;\n\n// ===== 3. ì²¨ë¶€íŒŒì¼ ì •ë³´ =====\nlet hasAttachments = false;\nlet attachmentCount = 0;\nlet attachmentNames = [];\n\n// Gmail API payload.partsì—ì„œ ì²¨ë¶€íŒŒì¼ ì°¾ê¸°\nif (item.payload && item.payload.parts) {\n  for (const part of item.payload.parts) {\n    if (part.filename && part.filename.length > 0) {\n      hasAttachments = true;\n      attachmentCount++;\n      attachmentNames.push(part.filename);\n    }\n  }\n}\n\nconst attachmentNamesStr = attachmentNames.length > 0 \n  ? attachmentNames.join(\", \") \n  : \"ì—†ìŒ\";\n\nconsole.log(\"hasAttachments:\", hasAttachments);\nconsole.log(\"attachmentCount:\", attachmentCount);\nconsole.log(\"attachmentNames:\", attachmentNamesStr);\n\n// ===== 4. ë°œì‹ ì íƒ€ì… ë¶„ë¥˜ =====\nconst fromEmail = (item.from?.value?.[0]?.address || item.from || \"\").toLowerCase();\n\nlet senderType = \"ì¼ë°˜\";\nif (fromEmail.includes(\"notify@\") || \n    fromEmail.includes(\"noreply@\") || \n    fromEmail.includes(\"no-reply@\") ||\n    fromEmail.includes(\"automation@\")) {\n  senderType = \"ìë™ì•Œë¦¼\";\n} else if (fromEmail.includes(\"marketing@\") || \n           fromEmail.includes(\"promo@\") ||\n           fromEmail.includes(\"newsletter@\")) {\n  senderType = \"ê´‘ê³ \";\n}\n\nconsole.log(\"ë°œì‹ ì:\", fromEmail);\nconsole.log(\"ë°œì‹ ì íƒ€ì…:\", senderType);\nconsole.log(\"============================\");\n\n// ===== 5. ìµœì¢… ë°˜í™˜ =====\nreturn {\n  json: {\n    ...item,\n    cleanBody: cleanText,\n    today: today,\n    hasAttachments: hasAttachments,\n    attachmentCount: attachmentCount,\n    attachmentNames: attachmentNamesStr,\n    senderType: senderType\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2320,
        -64
      ],
      "id": "9922d548-375c-47a3-8cbe-a5932373a316",
      "name": "2.5 ì´ë©”ì¼ ì „ì²˜ë¦¬ ë…¸ë“œ"
    },
    {
      "parameters": {
        "content": "## Schedule Trigger\në§¤ì¼ ì˜¤ì „ 8ì‹œ ìë™ ì‹¤í–‰",
        "height": 304,
        "width": 256
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2992,
        -208
      ],
      "typeVersion": 1,
      "id": "9d103c0c-b932-43fe-a95c-f74d20805934",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "## ì•ˆì½ì€ ì´ë©”ì¼ ê°€ì ¸ì˜¤ê¸°\n\nGmailì—ì„œ ì½ì§€ ì•Šì€ ì´ë©”ì¼ ìˆ˜ì§‘\n",
        "height": 304,
        "width": 288,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2688,
        -208
      ],
      "typeVersion": 1,
      "id": "1e473327-4e58-4dbd-ad75-58ff5e346e0d",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "## ì´ë©”ì¼ ì „ì²˜ë¦¬ (Code)\n\nì´ë©”ì¼ ë³¸ë¬¸ ì¶”ì¶œ ë° ì •ì œ\nHTML íƒœê·¸ ì œê±°, 3000ì ì œí•œ\nì²¨ë¶€íŒŒì¼ ì •ë³´ ì¶”ì¶œ",
        "height": 304,
        "width": 368,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2336,
        -208
      ],
      "typeVersion": 1,
      "id": "d686ba98-a100-4f5d-9fd5-a66759373eea",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "content": "## Sender Filter (ë°œì‹ ì í•„í„°)\n\në°œì‹ ì ì£¼ì†Œë¡œ ë¶„ë¥˜:\n\nVIP: ì¤‘ìš” ë°œì‹ ì (í•­ìƒ ì²˜ë¦¬)\nWhitelist: í—ˆìš© ëª©ë¡\nBlacklist: ì°¨ë‹¨ ëª©ë¡ (ìŠ¤í‚µ)\n\nâ†’ API ë¹„ìš© 30% ì ˆê°",
        "height": 304,
        "width": 336,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1936,
        -208
      ],
      "typeVersion": 1,
      "id": "131fcd96-4409-4a2e-baba-e9ce78d6c44d",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "content": "## ë¶„ì„ ì œì™¸ í•„í„°\n\në¸”ë™ë¦¬ìŠ¤íŠ¸ ì´ë©”ì¼ OpenAI ë¶„ì„ ì œì™¸",
        "height": 304,
        "width": 272,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1584,
        -208
      ],
      "typeVersion": 1,
      "id": "47a7244a-9de2-47b8-be3c-d37eefb82616",
      "name": "Sticky Note4"
    },
    {
      "parameters": {
        "content": "## Google Sheets ê¸°ë¡\n\nëª¨ë“  ì´ë©”ì¼ ì •ë³´ë¥¼ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ì— ì €ì¥\n(ë‚ ì§œ, ë°œì‹ ì, ì œëª©, ì¹´í…Œê³ ë¦¬, ìš°ì„ ìˆœìœ„, ìš”ì•½ ë“±)",
        "height": 304,
        "width": 336,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        32,
        -240
      ],
      "typeVersion": 1,
      "id": "c1791d3c-1fe1-4795-beec-f7e8704be391",
      "name": "Sticky Note5"
    },
    {
      "parameters": {
        "content": "## JSON íŒŒì‹±\n\nOpenAI ì‘ë‹µì„ êµ¬ì¡°í™”ëœ ë°ì´í„°ë¡œ ë³€í™˜",
        "height": 272,
        "width": 272,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -736,
        -208
      ],
      "typeVersion": 1,
      "id": "f296215c-2f62-4eb8-a2eb-a1791b0e4b5b",
      "name": "Sticky Note6"
    },
    {
      "parameters": {
        "content": "## OpenAI ë¶„ì„\n\nGPT-4o-minië¡œ ì´ë©”ì¼ ìë™ ë¶„ì„:\n\nì¹´í…Œê³ ë¦¬ (ê³µì§€/ì—…ë¬´/ê´‘ê³ /ìë™ì•Œë¦¼)\nìš°ì„ ìˆœìœ„ (ë†’ìŒ/ë³´í†µ/ë‚®ìŒ)\ní•µì‹¬ ìš”ì•½\nì¼ì • ì •ë³´ ì¶”ì¶œ\ní•„ìš”í•œ í–‰ë™",
        "height": 288,
        "width": 448,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1232,
        -240
      ],
      "typeVersion": 1,
      "id": "50172511-238c-4bac-8fad-a378b4329f81",
      "name": "Sticky Note7"
    },
    {
      "parameters": {
        "content": "## schedule_start ìƒì„± (Code)\n\nì¼ì • í…ìŠ¤íŠ¸ë¥¼ ì •í™•í•œ ë‚ ì§œ/ì‹œê°„ìœ¼ë¡œ ë³€í™˜:\n\n\"11ì›” 18ì¼\" â†’ 2025-11-18T09:00:00+09:00\n\"12ì›” 8ì¼ ì˜¤í›„ 2ì‹œ\" â†’ 2025-12-08T14:00:00+09:00\n\nâ†’ ì •í™•í•œ ìº˜ë¦°ë” ë“±ë¡",
        "height": 320,
        "width": 416,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -432,
        -256
      ],
      "typeVersion": 1,
      "id": "ee47e87f-d6c9-47f2-95e2-ada40e17178e",
      "name": "Sticky Note8"
    },
    {
      "parameters": {
        "content": "## ìº˜ë¦°ë” ë“±ë¡ ì—¬ë¶€ í™•ì¸ (IF)\n\nê¸°ëŠ¥: ì¼ì •ì´ ìˆëŠ” ì´ë©”ì¼ë§Œ Calendarë¡œ ë¶„ê¸°\n\nTRUE â†’ Google Calendar ë“±ë¡\nFALSE â†’ ì½ìŒ ì²˜ë¦¬ë¡œ ì´ë™",
        "height": 288,
        "width": 352,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        400,
        -224
      ],
      "typeVersion": 1,
      "id": "7a2429cc-55c7-42c5-b39d-04d6a9353055",
      "name": "Sticky Note9"
    },
    {
      "parameters": {
        "content": "## Google Calendar ë“±ë¡\n\nê¸°ëŠ¥: ì¼ì •ì´ ìˆëŠ” ì´ë©”ì¼ì„ ìº˜ë¦°ë” ì´ë²¤íŠ¸ë¡œ ìƒì„±\nCalendar ë“±ë¡ ì„±ê³µ ì—¬ë¶€ë¥¼ Sheetsì— ì—…ë°ì´íŠ¸",
        "height": 272,
        "width": 352,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        784,
        -224
      ],
      "typeVersion": 1,
      "id": "315b5c49-3f0b-46af-b736-98658761fd47",
      "name": "Sticky Note10"
    },
    {
      "parameters": {
        "operation": "markAsRead",
        "messageId": "={{ $node[\"2. ì•ˆì½ì€ ì´ë©”ì¼ ê°€ì ¸ì˜¤ê¸°\"].json[\"id\"] }}"
      },
      "id": "f3f613d8-30e6-49d9-b6aa-27e0224bdeec",
      "name": "9 ì´ë©”ì¼ ì½ìŒ í‘œì‹œ",
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        1440,
        224
      ],
      "webhookId": "REPLACE_WITH_WEBHOOK_ID",
      "credentials": {}
    },
    {
      "parameters": {
        "operation": "markAsRead",
        "messageId": "={{ $node[\"2. ì•ˆì½ì€ ì´ë©”ì¼ ê°€ì ¸ì˜¤ê¸°\"].json[\"id\"] }}"
      },
      "id": "13f04623-16d2-40de-be10-e520af763a20",
      "name": "9. ì´ë©”ì¼ ì½ìŒ",
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        1408,
        -96
      ],
      "webhookId": "REPLACE_WITH_WEBHOOK_ID",
      "credentials": {}
    },
    {
      "parameters": {
        "content": "## ì´ë©”ì¼ ì½ìŒ í‘œì‹œ\n\nê¸°ëŠ¥: ì²˜ë¦¬ ì™„ë£Œëœ ì´ë©”ì¼ì„ ì½ìŒìœ¼ë¡œ ì²˜ë¦¬\nì„¤ì •: Add Label: UNREAD ì œê±°\nìš©ë„: ì¤‘ë³µ ì²˜ë¦¬ ë°©ì§€\n\n",
        "height": 272,
        "width": 400,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1168,
        -224
      ],
      "typeVersion": 1,
      "id": "f09150e5-64be-4e77-88f3-d4a90a22e635",
      "name": "Sticky Note12"
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "// 8.55 ë‚ ì§œì°¾ê¸° (v2 - ê°œì„  ë²„ì „)\n\nconst item = $input.item.json;\n\n// ISO ë¬¸ìì—´ì¸ì§€ ê²€ì‚¬í•˜ëŠ” í•¨ìˆ˜\nfunction isValidISO(str) {\n  if (!str || typeof str !== 'string') return false;\n  const d = new Date(str);\n  return !isNaN(d.getTime());\n}\n\n// KST(+09:00) í˜•ì‹ìœ¼ë¡œ ë³€í™˜\nfunction toKSTString(d) {\n  const pad = (n) => String(n).padStart(2, '0');\n  const yyyy = d.getFullYear();\n  const mm = pad(d.getMonth() + 1);\n  const dd = pad(d.getDate());\n  const hh = pad(d.getHours());\n  const mi = pad(d.getMinutes());\n  const ss = pad(d.getSeconds());\n  return `${yyyy}-${mm}-${dd}T${hh}:${mi}:${ss}+09:00`;\n}\n\nconsole.log('===== ë‚ ì§œì°¾ê¸° ë””ë²„ê·¸ =====');\nconsole.log('schedule_start:', item.schedule_start);\nconsole.log('schedule_end:', item.schedule_end);\nconsole.log('has_schedule:', item.has_schedule);\n\n// 1ï¸âƒ£ schedule_startê°€ ìˆìœ¼ë©´ ì²˜ë¦¬ (endëŠ” ì„ íƒì‚¬í•­)\nif (isValidISO(item.schedule_start)) {\n  const startDate = new Date(item.schedule_start);\n  \n  // ì¢…ë£Œ ì‹œê°„ì´ ìˆê³  ìœ íš¨í•˜ë©´ ì‚¬ìš©, ì—†ìœ¼ë©´ +1ì‹œê°„\n  let endDate;\n  if (item.schedule_end && isValidISO(item.schedule_end)) {\n    endDate = new Date(item.schedule_end);\n    // ì‹œì‘ë³´ë‹¤ ë¹ ë¥´ë©´ ì•ˆ ë˜ë¯€ë¡œ ì²´í¬\n    if (endDate <= startDate) {\n      endDate = new Date(startDate.getTime() + 60 * 60 * 1000);\n      console.log('âš ï¸ ì¢…ë£Œ ì‹œê°„ì´ ì‹œì‘ë³´ë‹¤ ë¹ ë¦„, +1ì‹œê°„ìœ¼ë¡œ ë³´ì •');\n    }\n  } else {\n    endDate = new Date(startDate.getTime() + 60 * 60 * 1000);\n    console.log('âœ… ì¢…ë£Œ ì‹œê°„ ì—†ìŒ, +1ì‹œê°„ìœ¼ë¡œ ìë™ ì„¤ì •');\n  }\n  \n  console.log('âœ… ìº˜ë¦°ë” ë“±ë¡:', toKSTString(startDate), '~', toKSTString(endDate));\n  \n  return {\n    json: {\n      ...item,\n      calendarStart: toKSTString(startDate),\n      calendarEnd: toKSTString(endDate),\n      dateSource: 'OpenAI_parsed'\n    },\n  };\n}\n\n// 2ï¸âƒ£ schedule_startê°€ ì—†ìœ¼ë©´ ìº˜ë¦°ë” ë“±ë¡ ì•ˆ í•¨\nconsole.log('âš ï¸ schedule_start ì—†ìŒ - ìº˜ë¦°ë” ë“±ë¡ ê±´ë„ˆëœ€');\n\nreturn {\n  json: {\n    ...item,\n    calendarStart: null,\n    calendarEnd: null,\n    dateSource: 'no_schedule_skip'\n  },\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        48,
        -80
      ],
      "id": "babcb755-ed30-4a26-8a1f-d1062f59e313",
      "name": "8.5 ë‚ ì§œì°¾ê¸°"
    },
    {
      "parameters": {
        "content": "## ì´ë©”ì¼ ì½ìŒ í‘œì‹œ\n\nê¸°ëŠ¥: ì²˜ë¦¬ ì™„ë£Œëœ ì´ë©”ì¼ì„ ì½ìŒìœ¼ë¡œ ì²˜ë¦¬\nì„¤ì •: Add Label: UNREAD ì œê±°\nìš©ë„: ì¤‘ë³µ ì²˜ë¦¬ ë°©ì§€\n\n",
        "height": 272,
        "width": 400,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1168,
        80
      ],
      "typeVersion": 1,
      "id": "0b8bd81d-e00b-4a73-bbbe-6b90aa0ba99d",
      "name": "Sticky Note15"
    },
    {
      "parameters": {
        "content": "## ì „ì²´ ì›Œí¬í”Œë¡œìš°\n\nGmail ì•ˆì½ì€ ì´ë©”ì¼ ìˆ˜ì§‘ â†’ ë°œì‹ ì í•„í„°ë§ â†’ AI ë¶„ì„ â†’ ì¼ì • ì¶”ì¶œ â†’ Calendar/Sheets ì €ì¥ â†’ ì½ìŒ ì²˜ë¦¬\n\n## ğŸ“Š ì£¼ìš” íš¨ê³¼\n\nâ±ï¸ ì‹œê°„ ì ˆì•½: ì´ë©”ì¼ ìˆ˜ë™ ë¶„ë¥˜ ë¶ˆí•„ìš”\nğŸ“… ì¼ì • ê´€ë¦¬: ìë™ ìº˜ë¦°ë” ë“±ë¡\nğŸ’° ë¹„ìš© ì ˆê°: ë°œì‹ ì í•„í„°ë§ìœ¼ë¡œ API ë¹„ìš© 30% ê°ì†Œ\nğŸ“ˆ ì •í™•ë„: AI + ì½”ë“œ ì¡°í•©ìœ¼ë¡œ ì¼ì • ì¸ì‹ ì •í™•ë„ ê·¹ëŒ€í™”",
        "height": 320,
        "width": 688,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1152,
        -640
      ],
      "typeVersion": 1,
      "id": "df1d8cb8-8b58-4c0b-85c2-8022aea8f2f7",
      "name": "Sticky Note11"
    }
  ],
  "pinData": {},
  "connections": {
    "2. ì•ˆì½ì€ ì´ë©”ì¼ ê°€ì ¸ì˜¤ê¸°": {
      "main": [
        [
          {
            "node": "2.5 ì´ë©”ì¼ ì „ì²˜ë¦¬ ë…¸ë“œ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "3. ì´ë©”ì¼ ë°ì´í„° ì¶”ì¶œ": {
      "main": [
        [
          {
            "node": "4. Sender Filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "4. Sender Filter": {
      "main": [
        [
          {
            "node": "5. ë°œì‹ ì ìœ íš¨ì„± í™•ì¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "5. ë°œì‹ ì ìœ íš¨ì„± í™•ì¸": {
      "main": [
        [
          {
            "node": "6. OpenAIë¡œ ì´ë©”ì¼ ë¶„ì„",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ì°¨ë‹¨ëœ ë°œì‹ ì - ë¬´ì‹œ2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "6. OpenAIë¡œ ì´ë©”ì¼ ë¶„ì„": {
      "main": [
        [
          {
            "node": "7. JSON íŒŒì‹± ë° í†µí•©",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "7. JSON íŒŒì‹± ë° í†µí•©": {
      "main": [
        [
          {
            "node": "8. Google Sheetsì— ê¸°ë¡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "8. Google Sheetsì— ê¸°ë¡": {
      "main": [
        [
          {
            "node": "8.5 ë‚ ì§œì°¾ê¸°",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "8.6 Google Calendar ë“±ë¡": {
      "main": [
        [
          {
            "node": "9. ì´ë©”ì¼ ì½ìŒ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "1. ë§¤ 1ì‹œê°„ë§ˆë‹¤ ì‹¤í–‰": {
      "main": [
        [
          {
            "node": "2. ì•ˆì½ì€ ì´ë©”ì¼ ê°€ì ¸ì˜¤ê¸°",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "8.56 ìº˜ë¦°ë” ë“±ë¡ ì—¬ë¶€ í™•ì¸": {
      "main": [
        [
          {
            "node": "8.6 Google Calendar ë“±ë¡",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "9 ì´ë©”ì¼ ì½ìŒ í‘œì‹œ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "8.55 ì •í™•í•œ ë‚ ì§œ ë°±ì—…": {
      "main": [
        [
          {
            "node": "8.56 ìº˜ë¦°ë” ë“±ë¡ ì—¬ë¶€ í™•ì¸",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "2.5 ì´ë©”ì¼ ì „ì²˜ë¦¬ ë…¸ë“œ": {
      "main": [
        [
          {
            "node": "3. ì´ë©”ì¼ ë°ì´í„° ì¶”ì¶œ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "8.5 ë‚ ì§œì°¾ê¸°": {
      "main": [
        [
          {
            "node": "8.55 ì •í™•í•œ ë‚ ì§œ ë°±ì—…",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "REDACTED_VERSION_ID",
  "meta": {
    "instanceId": "REDACTED_INSTANCE_ID"
  },
  "id": "AxMU1eINViHg6MZI",
  "tags": []
}
